{"ast":null,"code":"var _jsxFileName = \"/Users/melevate/Desktop/Hackaton2024/src/components/profile/EditProfile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport cl from \"../login/LogInSignIn.module.css\";\nimport OgInput from \"../UI/ogInput/OgInput\";\nimport { changeHandler } from \"../../utils/changeHandler\";\nimport OgButton from \"../UI/ogButton/OgButton\";\nimport { Context } from \"../../index\";\nimport { observer } from \"mobx-react-lite\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProfile = ({\n  closeModal\n}) => {\n  _s();\n  const [description, setDescription] = useState(\"\");\n  const [goals, setGoals] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [hasError, setHasError] = useState({\n    description: false,\n    goals: false,\n    age: false\n  });\n  const {\n    store\n  } = useContext(Context);\n  const [isButtonDisabled, setIsButtonDisabled] = useState(true);\n  const isFormInvalid = hasError.description || hasError.goals || hasError.age;\n  useEffect(() => {\n    const isFormValid = description && goals && age && !isFormInvalid;\n    setIsButtonDisabled(!isFormValid);\n  }, [description, goals, age, hasError]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: cl.my_form,\n      onSubmit: event => {\n        event.preventDefault();\n        if (!isFormInvalid) {\n          var _store$user, _store$user2, _store$user3;\n          store.editUserInfo(localStorage.getItem('id'), {\n            name: (_store$user = store.user) === null || _store$user === void 0 ? void 0 : _store$user.name,\n            username: (_store$user2 = store.user) === null || _store$user2 === void 0 ? void 0 : _store$user2.username,\n            goals,\n            age,\n            description,\n            sex: (_store$user3 = store.user) === null || _store$user3 === void 0 ? void 0 : _store$user3.sex\n          });\n          setDescription(\"\");\n          setGoals(\"\");\n          setAge(\"\");\n          closeModal();\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(OgInput, {\n        type: \"text\",\n        name: \"description\",\n        id: \"description\",\n        value: description,\n        onChange: event => changeHandler(event, setDescription, setHasError, \"description\"),\n        placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",\n        style: {\n          borderColor: hasError.description ? \"red\" : null\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(OgInput, {\n        type: \"text\",\n        name: \"goals\",\n        id: \"goals\",\n        value: goals,\n        onChange: event => changeHandler(event, setGoals, setHasError, \"goals\"),\n        placeholder: \"Goals\",\n        style: {\n          borderColor: hasError.goals ? \"red\" : null\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(OgInput, {\n        type: \"text\",\n        name: \"age\",\n        id: \"age\",\n        value: age,\n        onChange: event => changeHandler(event, setAge, setHasError, \"age\"),\n        placeholder: \"\\u0412\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442\",\n        style: {\n          borderColor: hasError.age ? \"red\" : null\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cl.form__btns__container,\n        children: /*#__PURE__*/_jsxDEV(OgButton, {\n          disabled: isButtonDisabled,\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n};\n_s(EditProfile, \"woddZsSJkC6sPt8H+NJzT/osv44=\");\n_c = EditProfile;\nexport default _c2 = observer(EditProfile);\nvar _c, _c2;\n$RefreshReg$(_c, \"EditProfile\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useContext","useEffect","useState","cl","OgInput","changeHandler","OgButton","Context","observer","jsxDEV","_jsxDEV","EditProfile","closeModal","_s","description","setDescription","goals","setGoals","age","setAge","hasError","setHasError","store","isButtonDisabled","setIsButtonDisabled","isFormInvalid","isFormValid","children","className","my_form","onSubmit","event","preventDefault","_store$user","_store$user2","_store$user3","editUserInfo","localStorage","getItem","name","user","username","sex","type","id","value","onChange","placeholder","style","borderColor","fileName","_jsxFileName","lineNumber","columnNumber","form__btns__container","disabled","_c","_c2","$RefreshReg$"],"sources":["/Users/melevate/Desktop/Hackaton2024/src/components/profile/EditProfile.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport cl from \"../login/LogInSignIn.module.css\";\nimport OgInput from \"../UI/ogInput/OgInput\";\nimport { changeHandler } from \"../../utils/changeHandler\";\nimport OgButton from \"../UI/ogButton/OgButton\";\nimport { Context } from \"../../index\";\nimport { observer } from \"mobx-react-lite\";\n\nconst EditProfile = ({ closeModal }) => {\n    const [description, setDescription] = useState(\"\");\n    const [goals, setGoals] = useState(\"\");\n    const [age, setAge] = useState(\"\");\n    const [hasError, setHasError] = useState({ description: false, goals: false, age: false });\n    const { store } = useContext(Context);\n    const [isButtonDisabled, setIsButtonDisabled] = useState(true);\n    const isFormInvalid = hasError.description || hasError.goals || hasError.age;\n    useEffect(() => {\n        const isFormValid = description && goals && age && !isFormInvalid;\n        setIsButtonDisabled(!isFormValid);\n    }, [description, goals, age, hasError]);\n\n    return (\n        <div>\n            <form\n                className={cl.my_form}\n                onSubmit={(event) => {\n                    event.preventDefault();\n                    if (!isFormInvalid) {\n                        store.editUserInfo(localStorage.getItem('id'), {\n                            name: store.user?.name,\n                            username: store.user?.username,\n                            goals,\n                            age,\n                            description,\n                            sex: store.user?.sex\n                        });\n\n                        setDescription(\"\");\n                        setGoals(\"\");\n                        setAge(\"\");\n                        closeModal();\n                    }\n                }}\n            >\n                <OgInput\n                    type=\"text\"\n                    name=\"description\"\n                    id=\"description\"\n                    value={description}\n                    onChange={(event) => changeHandler(event, setDescription, setHasError, \"description\")}\n                    placeholder=\"Описание\"\n                    style={{ borderColor: hasError.description ? \"red\" : null }}\n                />\n                <OgInput\n                    type=\"text\"\n                    name=\"goals\"\n                    id=\"goals\"\n                    value={goals}\n                    onChange={(event) => changeHandler(event, setGoals, setHasError, \"goals\")}\n                    placeholder=\"Goals\"\n                    style={{ borderColor: hasError.goals ? \"red\" : null }}\n                />\n                <OgInput\n                    type=\"text\"\n                    name=\"age\"\n                    id=\"age\"\n                    value={age}\n                    onChange={(event) => changeHandler(event, setAge, setHasError, \"age\")}\n                    placeholder=\"Возраст\"\n                    style={{ borderColor: hasError.age ? \"red\" : null }}\n                />\n                <div className={cl.form__btns__container}>\n                    <OgButton disabled={isButtonDisabled}>\n                        Сохранить\n                    </OgButton>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default observer(EditProfile);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}